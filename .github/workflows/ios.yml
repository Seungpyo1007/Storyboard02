name: Run Test

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  test_ios:
    # âš ï¸ ìˆ˜ì •: macos-latestë¡œ ì˜¤íƒ€ ìˆ˜ì •
    runs-on: macos-latest

    steps:
    # 1. Checkout the repository code (using v4, the latest version)
    - uses: actions/checkout@v4
      
    # 2. Select a specific Xcode version using the built-in command (Most reliable method)
    # The runner image guarantees multiple Xcode versions are pre-installed.
    # âš ï¸ ìˆ˜ì •: ì—ëŸ¬ê°€ ë°œìƒí•œ ì™¸ë¶€ ì•¡ì…˜ ëŒ€ì‹  xcode-select ëª…ë ¹ì–´ë¥¼ ì§ì ‘ ì‚¬ìš©í•©ë‹ˆë‹¤.
    - name: Select Xcode 15.3 via xcode-select
      run: sudo xcode-select -s /Applications/Xcode_15.3.app/Contents/Developer
    
    # Optional: Verify the selected version (good for debugging)
    - name: Show active Xcode version
      run: xcodebuild -version

    # 3. Run the Clean and Test command
    - name: Start xcode build and run tests ğŸ› 
      run: |
        xcodebuild clean test \
          # âš ï¸ ìˆ˜ì •: í”„ë¡œì íŠ¸ ì´ë¦„ê³¼ ìŠ¤í‚´ ì´ë¦„ì„ 'Storyboard02'ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.
          -project Storyboard02/Storyboard02.xcodeproj \
          -scheme Storyboard02 \
          -destination 'platform=iOS Simulator,name=iPhone 15 Pro,OS=latest'
